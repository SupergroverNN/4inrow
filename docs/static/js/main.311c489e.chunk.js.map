{"version":3,"sources":["index.js"],"names":["Board","props","_this","Object","c_OSPanel_domains_localhost_4inrow_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","c_OSPanel_domains_localhost_4inrow_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","c_OSPanel_domains_localhost_4inrow_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","getClass","i","line","Math","floor","row","value","state","squares","concat","renderSquare","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","className","onClick","handleClick","counts","Array","fill","redIsNow","slice","col","checkWin","setState","status","winner","React","Component","Game","checkDraw","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","err","return","console","log","lineSquares","lines","length","_lines$i","c_OSPanel_domains_localhost_4inrow_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","b","c","d","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.311c489e.chunk.js","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\n\r\n\r\n\r\nclass Board extends React.Component {\r\n    constructor (props) {\r\n      super(props);\r\n      this.state = {\r\n        squares: [\r\n          [0, 0, 0, 0, 0, 0, 0],\r\n          [0, 0, 0, 0, 0, 0, 0],\r\n          [0, 0, 0, 0, 0, 0, 0],\r\n          [0, 0, 0, 0, 0, 0, 0],\r\n          [0, 0, 0, 0, 0, 0, 0],\r\n          [0, 0, 0, 0, 0, 0, 0]\r\n        ],\r\n        counts: Array(7).fill(5),\r\n        redIsNow: true\r\n      };\r\n    }\r\n    // обработка нажатия на ячейку\r\n    handleClick (i) {\r\n      // debugger\r\n      const squares = this.state.squares.slice();\r\n      const counts = this.state.counts.slice();\r\n      let col = i % 7;\r\n      let line = counts[col];\r\n      if(checkWin(squares, counts) || counts[col] < 0) {\r\n        return;\r\n      }\r\n      squares[line][col] = this.state.redIsNow ? 'red' : 'blue';\r\n      counts[col]--;\r\n      this.setState({\r\n        squares: squares,\r\n        redIsNow: !this.state.redIsNow,\r\n        counts: counts\r\n      });\r\n    }\r\n\r\n    // меняем класс ячейки в зависимости от значения\r\n    getClass = (i) => {\r\n      let line = Math.floor(i / 7);\r\n      let row = i % 7;\r\n      let value = this.state.squares[line][row];\r\n      if (value === 0) {\r\n        return '';\r\n      }\r\n      return ` ${value}`;\r\n    }\r\n    \r\n    // генерируем ячейку\r\n    renderSquare = (i) => {\r\n      return (\r\n        <button className={`square${this.getClass(i)}`} onClick={() => this.handleClick(i)}></button>\r\n      )\r\n    }\r\n\r\n    render() {\r\n      let status;\r\n      let winner = checkWin(this.state.squares, this.state.counts);\r\n      if (winner === 'draw') {\r\n        status = 'DRAW';\r\n      } else if(winner) {\r\n        status = `${winner === 'red' ? 'Red' : 'Blue'} player WIN!`;\r\n      } else {\r\n        status = `Current player: ${this.state.redIsNow ? 'Red' : 'Blue'} `;\r\n      }\r\n\r\n      return (\r\n        <div className=\"gameboard\">\r\n          <div className=\"status\">{status}</div>\r\n          <div className=\"board-row\">\r\n            {this.renderSquare(0)}\r\n            {this.renderSquare(1)}\r\n            {this.renderSquare(2)}\r\n            {this.renderSquare(3)}\r\n            {this.renderSquare(4)}\r\n            {this.renderSquare(5)}\r\n            {this.renderSquare(6)}\r\n          </div>\r\n          <div className=\"board-row\">\r\n            {this.renderSquare(7)}\r\n            {this.renderSquare(8)}\r\n            {this.renderSquare(9)}\r\n            {this.renderSquare(10)}\r\n            {this.renderSquare(11)}\r\n            {this.renderSquare(12)}\r\n            {this.renderSquare(13)}\r\n          </div>\r\n          <div className=\"board-row\">\r\n            {this.renderSquare(14)}\r\n            {this.renderSquare(15)}\r\n            {this.renderSquare(16)}\r\n            {this.renderSquare(17)}\r\n            {this.renderSquare(18)}\r\n            {this.renderSquare(19)}\r\n            {this.renderSquare(20)}\r\n          </div>\r\n          <div className=\"board-row\">\r\n            {this.renderSquare(21)}\r\n            {this.renderSquare(22)}\r\n            {this.renderSquare(23)}\r\n            {this.renderSquare(24)}\r\n            {this.renderSquare(25)}\r\n            {this.renderSquare(26)}\r\n            {this.renderSquare(27)}\r\n          </div>\r\n          <div className=\"board-row\">\r\n            {this.renderSquare(28)}\r\n            {this.renderSquare(29)}\r\n            {this.renderSquare(30)}\r\n            {this.renderSquare(31)}\r\n            {this.renderSquare(32)}\r\n            {this.renderSquare(33)}\r\n            {this.renderSquare(34)}\r\n          </div>\r\n          <div className=\"board-row\">\r\n            {this.renderSquare(35)}\r\n            {this.renderSquare(36)}\r\n            {this.renderSquare(37)}\r\n            {this.renderSquare(38)}\r\n            {this.renderSquare(39)}\r\n            {this.renderSquare(40)}\r\n            {this.renderSquare(41)}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nclass Game extends React.Component {\r\n  render () {\r\n    return (\r\n      <div className=\"game\">\r\n        <div className=\"game-board\">\r\n          <Board />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nReactDOM.render( <Game />, document.getElementById('root') );\r\n\r\n// проверяем на выйгрыш\r\nfunction checkWin (squares, counts) {\r\n  let checkDraw = 7;\r\n  for(let count of counts) {\r\n    if (count < 0) {\r\n      checkDraw--;\r\n    }\r\n  }\r\n  console.log(checkDraw);\r\n  if(checkDraw === 0) {\r\n    return 'draw';\r\n  }\r\n  let lineSquares = squares[0].concat(squares[1],squares[2],squares[3],squares[4],squares[5]);\r\n  const lines = [\r\n    // vertical\r\n    [0, 7, 14, 21], [7, 14, 21, 28], [14, 21, 28, 35],\r\n    [1, 8, 15, 22], [8, 15, 22, 29], [15, 22, 29, 36],\r\n    [2, 9, 16, 23], [9, 16, 23, 30], [16, 23, 30, 37],\r\n    [3, 10, 17, 24], [10, 17, 24, 31], [17, 24, 31, 38],\r\n    [4, 11, 18, 25], [11, 18, 25, 32], [14, 21, 28, 35],\r\n    [5, 12, 19, 26], [12, 19, 26, 33], [19, 26, 33, 40],\r\n    [6, 13, 20, 27], [13, 20, 27, 34], [20, 27, 34, 41],\r\n    // horizontal \r\n    [0, 1, 2, 3], [1, 2, 3, 4], [2, 3, 4, 5], [3, 4, 5, 6],\r\n    [7, 8, 9, 10], [8, 9, 10, 11], [9, 10, 11, 12], [10, 11, 12, 13],\r\n    [14, 15, 16, 17], [15, 16, 17, 18], [16, 17, 18, 19], [17, 18, 19, 20],\r\n    [21, 22 , 23, 24], [22, 23, 24, 25], [23, 24, 25, 26], [24, 25, 26, 27],\r\n    [28, 29, 30, 31], [29, 30, 31, 32], [30, 31, 32, 33], [31, 32, 33, 34],\r\n    [35, 36, 37, 38], [36, 37, 38, 39], [37, 38, 39, 40], [38, 39, 40, 41],\r\n    // diagonal1\r\n    [14, 22, 30, 38],[7, 15, 23, 31],[0, 8, 16, 24],[1, 9, 17, 25],[2, 10, 18, 26],[3, 11, 19, 27],\r\n    [15, 23, 31, 39],[8, 16, 24, 32],[16, 24, 32, 40],[9, 17, 25, 33],[17, 25, 33, 41],[10, 18, 26, 34],\r\n    // diagonal2\r\n    [3, 9, 15, 21],[4, 10, 16, 22],[5, 11, 17, 23],[6, 12, 18, 24],[13, 19, 25, 31],[10, 16, 22, 28],\r\n    [11, 17, 23, 29],[12, 18, 24, 30],[17, 23, 29, 35],[18, 24, 30, 36],[19, 25, 31, 37],[20, 26, 32, 38]\r\n  ];\r\n  for (let i = 0; i < lines.length; i++) {\r\n    const [a, b, c, d] = lines[i];\r\n    if (lineSquares[a] !== 0 && lineSquares[a] === lineSquares[b] && lineSquares[a] === lineSquares[c] && lineSquares[a] === lineSquares[d]) {\r\n      return lineSquares[a];\r\n    }\r\n  }\r\n  return null;\r\n}"],"sourceRoot":""}